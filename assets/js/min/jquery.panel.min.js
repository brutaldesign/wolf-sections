/*! WolfSections v1.0.1 */
var WolfSectionsAdminEditorPanel=WolfSectionsAdminEditorPanel||{},WolfSectionsAjax=WolfSectionsAjax||{};WolfSectionsAdminEditorPanel=function(a){"use strict";return{init:function(){this.createPanel(),this.getSectionList(),this.addSectionButton(),this.switchTab(),this.toolTip(),this.insertDialogContent(),this.openDialog(),this.sortable(),this.removeSection()},createPanel:function(){var b='<div id="wolf-sections-panel"><div id="wolf-sections-toolbar"></div><div id="wolf-sections-list"></div></div>';a(b).insertAfter("#wp-content-editor-container").addClass("wp-editor-container").hide()},getSectionList:function(){var b={post_id:WolfSectionsAjax.currentPostId,action:"wolf_get_section_list"};a.post(WolfSectionsAjax.adminUrl,b,function(b){"none"!==b&&a("#wolf-sections-list").append(b)})},addSectionButton:function(){a("#wolf-sections-toolbar").append('<a id="wolf-add-section" class="wolf-section-help" title="'+WolfSectionsAjax.addSectionMessage+'"></a>')},switchTab:function(){a.cookie("sections-tab-active")&&"true"===a.cookie("sections-tab-active")&&(a("#wp-content-wrap").removeClass("tmce-active html-active"),a("#wp-content-editor-container, #post-status-info").hide(),a("#wolf-sections-panel").show().find("> .inside").show(),a("#wp-content-wrap").addClass("sections-active"),a(window).trigger("resize"),a("#content-resize-handle").hide()),a("#wp-content-editor-tools").find(".wp-editor-tabs").click(function(){a("#wp-content-editor-container, #post-status-info").show(),a("#wolf-sections-panel").hide(),a("#wp-content-wrap").removeClass("sections-active"),a.cookie("sections-tab-active",!1,{path:"/",expires:1}),a("#content-resize-handle").show()}).prepend(a('<a id="wolf-sections-tab" class="wp-switch-editor switch-sections">'+WolfSectionsAjax.SectionTabTitle+"</a>").click(function(){return a("#wp-content-wrap").removeClass("tmce-active html-active"),a("#wp-content-editor-container, #post-status-info").hide(),a("#wolf-sections-panel").show().find("> .inside").show(),a("#wp-content-wrap").addClass("sections-active"),a.cookie("sections-tab-active",!0,{path:"/",expires:1}),a(window).trigger("resize"),a("#content-resize-handle").hide(),!1})),a("#wp-content-editor-tools .wp-switch-editor").click(function(){var b=a(this),c=b.attr("id").split("-");a("#wp-content-wrap").addClass(c[1]+"-active")}),a("#wolf-sections-tab").click(function(){a(window).resize()})},toolTip:function(){a(".wolf-section-help").tipsy({fade:!0,live:!0,gravity:"s"})},insertDialogContent:function(){var b='<div id="wolf-dialog-sections" />';a("#wpwrap").append(b),a.post(WolfSectionsAjax.pluginUrl+"/dialog/sections.php","",function(b){a("#wolf-dialog-sections").html(b)})},openDialog:function(){var b=this,c=a("#wolf-dialog-sections");c.dialog({dialogClass:"wp-dialog",modal:!0,autoOpen:!1,closeOnEscape:!0,minWidth:350,minHeight:250,buttons:{Add:function(){b.insertSection(),a(this).dialog("close")},Cancel:function(){a(this).dialog("close")}}}),a("#wolf-add-section").on("click",function(a){a.preventDefault(),c.dialog("open")})},insertSection:function(){var b=a("#wolf-sections-list"),c=a("#wolf-section-select"),d=c.val(),e=c.find(":selected").data("title");a(b).append('<div class="wolf-section-block">'+e+'<span title="'+WolfSectionsAjax.removeSectionMessage+'" class="wolf-section-remove"><input type="hidden" name="wolf-sections[]" value="'+d+'"></div>')},removeSection:function(){a("#wolf-sections-list").on("click",".wolf-section-remove",function(){var b=a(this).parent();b.slideUp("normal",function(){b.remove()})})},sortable:function(){a("#wolf-sections-list").sortable({helper:function(b,c){return c.children().each(function(){a(this).width(a(this).width()),a(this).height(a(this).height())}),c},placeholder:"state-highlight",opacity:.6,accept:"state-default",update:function(){}}),a("#wolf-sections-list").disableSelection()}}}(jQuery),function(a){"use strict";WolfSectionsAdminEditorPanel.init(),a(window).load(function(){})}(jQuery);